{"version":3,"sources":["main.js"],"names":["hashMap","JSON","parse","localStorage","getItem","url","logo","logoText","$lastLi","$","$liList","simplifyUrl","replace","createAndInsertLi","elements","insertBefore","render","find","remove","forEach","index","$li","on","window","open","e","splice","stopPropagation","prompt","push","logoType","onbeforeunload","stringHash","stringify","setItem"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAIA,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,GAArB,CAAX,KACZ,CAAC;AAACC,EAAAA,GAAG,EAAE,uBAAN;AAA+BC,EAAAA,IAAI,EAAE,GAArC;AAA0CC,EAAAA,QAAQ,EAAE;AAApD,CAAD,EACE;AAACF,EAAAA,GAAG,EAAE,YAAN;AAAoBC,EAAAA,IAAI,EAAE,GAA1B;AAA+BC,EAAAA,QAAQ,EAAE;AAAzC,CADF,CADF;AAGA,IAAMC,OAAO,GAAGC,CAAC,CAAC,SAAD,CAAjB;AACA,IAAMC,OAAO,GAACD,CAAC,CAAC,WAAD,CAAf;;AACA,IAAIE,WAAW,GAAG,SAAdA,WAAc,CAACN,GAAD,EAAS;AACzB,SAAOA,GAAG,CAACO,OAAJ,CAAY,SAAZ,EAAuB,EAAvB,EACJA,OADI,CACI,UADJ,EACgB,EADhB,EAEJA,OAFI,CAEI,MAFJ,EAEY,EAFZ,EAGJA,OAHI,CAGI,MAHJ,EAGY,EAHZ,CAAP;AAID,CALD;;AAMA,IAAIC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAC,QAAQ,EAAI;AAClC,SAAOL,CAAC,iGAGMK,QAAQ,CAACT,GAAT,CAAa,CAAb,CAHN,mFAMMS,QAAQ,CAACT,GANf,sOAAD,CAcKU,YAdL,CAckBP,OAdlB,CAAP;AAeD,CAhBD;;AAkBA,IAAIQ,MAAM,GAAG,SAATA,MAAS,GAAM;AACjBN,EAAAA,OAAO,CAACO,IAAR,CAAa,iBAAb,EAAgCC,MAAhC;AACAlB,EAAAA,OAAO,CAACmB,OAAR,CAAgB,UAACL,QAAD,EAAWM,KAAX,EAAqB;AACnC,QAAMC,GAAG,GAAGR,iBAAiB,CAACC,QAAD,CAA7B;AAEAO,IAAAA,GAAG,CAACC,EAAJ,CAAO,OAAP,EAAgB,YAAM;AACpBC,MAAAA,MAAM,CAACC,IAAP,CAAY,YAAYV,QAAQ,CAACT,GAAjC;AACD,KAFD;AAIAgB,IAAAA,GAAG,CAACC,EAAJ,CAAO,OAAP,EAAgB,cAAhB,EAAgC,UAACG,CAAD,EAAO;AACrCzB,MAAAA,OAAO,CAAC0B,MAAR,CAAeN,KAAf,EAAsB,CAAtB;AACAJ,MAAAA,MAAM;AACNS,MAAAA,CAAC,CAACE,eAAF;AACD,KAJD;AAKD,GAZD;AAaD,CAfD;;AAgBAX,MAAM;AAENP,CAAC,CAAC,YAAD,CAAD,CAAgBa,EAAhB,CAAmB,OAAnB,EAA4B,YAAM;AAC9B,MAAIjB,GAAG,GAAGkB,MAAM,CAACK,MAAP,CAAc,aAAd,CAAV;;AACA,MAAIvB,GAAG,KAAK,EAAR,IAAcA,GAAG,KAAI,IAAzB,EAA+B;AAC7BA,IAAAA,GAAG,GAAGM,WAAW,CAACN,GAAD,CAAjB;AACAL,IAAAA,OAAO,CAAC6B,IAAR,CAAa;AAACxB,MAAAA,GAAG,EAAEA,GAAN;AAAWC,MAAAA,IAAI,EAAED,GAAG,CAAC,CAAD,CAApB;AAAyByB,MAAAA,QAAQ,EAAE;AAAnC,KAAb;AACAd,IAAAA,MAAM;AACP;AACF,CAPH;;AAUAO,MAAM,CAACQ,cAAP,GAAwB,YAAM;AAC5B,MAAMC,UAAU,GAAG/B,IAAI,CAACgC,SAAL,CAAejC,OAAf,CAAnB;AACAG,EAAAA,YAAY,CAAC+B,OAAb,CAAqB,GAArB,EAA0BF,UAA1B;AACD,CAHD","file":"main.c04a073e.js","sourceRoot":"..\\src","sourcesContent":["let hashMap = JSON.parse(localStorage.getItem('x')) ||\r\n  [{url: 'developer.mozilla.org', logo: 'D', logoText: 'text'},\r\n    {url: 'github.com', logo: 'G', logoText: 'text'}]\r\nconst $lastLi = $('.lastLi')\r\nconst $liList=$('.siteList')\r\nlet simplifyUrl = (url) => {\r\n  return url.replace('http://', '')\r\n    .replace('https://', '')\r\n    .replace('www.', '')\r\n    .replace(/\\/.*/, '')\r\n}\r\nlet createAndInsertLi = elements => {\r\n  return $(`<li>\r\n          <div class=\"site\">\r\n            <div class=\"logo\">\r\n              ${elements.url[0]}\r\n            </div>\r\n            <div class=\"link\">\r\n              ${elements.url}\r\n            </div>\r\n            <div class=\"closeButton\">\r\n              <svg class=\"icon\">\r\n              <use xlink:href=\"#icon-close\"></use>\r\n              </svg>\r\n            </div>\r\n          </div>\r\n      </li>`).insertBefore($lastLi)\r\n}\r\n\r\nlet render = () => {\r\n  $liList.find('li:not(.lastLi)').remove()\r\n  hashMap.forEach((elements, index) => {\r\n    const $li = createAndInsertLi(elements)\r\n\r\n    $li.on('click', () => {\r\n      window.open('http://' + elements.url)\r\n    })\r\n\r\n    $li.on('click', '.closeButton', (e) => {\r\n      hashMap.splice(index, 1)\r\n      render()\r\n      e.stopPropagation()\r\n    })\r\n  })\r\n}\r\nrender()\r\n\r\n$('.addButton').on('click', () => {\r\n    let url = window.prompt('请输入要添加网站的网址')\r\n    if (url !== '' && url!== null) {\r\n      url = simplifyUrl(url)\r\n      hashMap.push({url: url, logo: url[0], logoType: 'text'})\r\n      render()\r\n    }\r\n  }\r\n)\r\n\r\nwindow.onbeforeunload = () => {\r\n  const stringHash = JSON.stringify(hashMap)\r\n  localStorage.setItem('x', stringHash)\r\n}"]}